[{"/home/alipw/Documents/ukk/spp-12/client/src/index.js":"1","/home/alipw/Documents/ukk/spp-12/client/src/pages/LoginSiswa.js":"2","/home/alipw/Documents/ukk/spp-12/client/src/pages/LoginAdmin.js":"3","/home/alipw/Documents/ukk/spp-12/client/src/pages/HomePetugas.js":"4","/home/alipw/Documents/ukk/spp-12/client/src/pages/Tes.js":"5","/home/alipw/Documents/ukk/spp-12/client/src/pages/History.js":"6","/home/alipw/Documents/ukk/spp-12/client/src/pages/HomeAdmin.js":"7"},{"size":996,"mtime":1634259445342,"results":"8","hashOfConfig":"9"},{"size":2118,"mtime":1634262123705,"results":"10","hashOfConfig":"9"},{"size":4707,"mtime":1634262111854,"results":"11","hashOfConfig":"9"},{"size":7900,"mtime":1634259445342,"results":"12","hashOfConfig":"9"},{"size":3445,"mtime":1634259445342,"results":"13","hashOfConfig":"9"},{"size":6269,"mtime":1634262432587,"results":"14","hashOfConfig":"9"},{"size":12310,"mtime":1634259445342,"results":"15","hashOfConfig":"9"},{"filePath":"16","messages":"17","errorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":"18","usedDeprecatedRules":"19"},"qyh05n",{"filePath":"20","messages":"21","errorCount":0,"warningCount":3,"fixableErrorCount":0,"fixableWarningCount":0,"source":"22","usedDeprecatedRules":"19"},{"filePath":"23","messages":"24","errorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":"25","usedDeprecatedRules":"19"},{"filePath":"26","messages":"27","errorCount":0,"warningCount":9,"fixableErrorCount":0,"fixableWarningCount":0,"source":"28","usedDeprecatedRules":"19"},{"filePath":"29","messages":"30","errorCount":0,"warningCount":4,"fixableErrorCount":0,"fixableWarningCount":0,"source":"31","usedDeprecatedRules":"19"},{"filePath":"32","messages":"33","errorCount":0,"warningCount":10,"fixableErrorCount":0,"fixableWarningCount":0,"source":"34","usedDeprecatedRules":"19"},{"filePath":"35","messages":"36","errorCount":0,"warningCount":22,"fixableErrorCount":0,"fixableWarningCount":0,"source":"37","usedDeprecatedRules":"38"},"/home/alipw/Documents/ukk/spp-12/client/src/index.js",["39","40"],"import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport {\n    BrowserRouter as Router,\n    Switch,\n    Route,\n    Link,\n    useHistory,\n} from \"react-router-dom\";\nimport LoginAdmin from \"./pages/LoginAdmin.js\";\nimport LoginSiswa from \"./pages/LoginSiswa.js\";\nimport Home from \"./pages/HomeAdmin.js\";\nimport HomePetugas from \"./pages/HomePetugas.js\";\nimport Tes from \"./pages/Tes.js\"\nimport History from \"./pages/History.js\"\n\nfunction App() {\n    return (\n        <Router>\n            <Switch>\n                <Route path=\"/loginAdmin\" component={LoginAdmin} />\n                <Route path=\"/LoginSiswa\" component={LoginSiswa} />\n                <Route path=\"/HomeAdmin\" component={Home} />\n                <Route path=\"/homepetugas\" component={HomePetugas} />\n                <Route path=\"/tes\" component={Tes} />\n                <Route path=\"/History\" component={History} />\n            </Switch>\n        </Router>\n    );\n}\n\nReactDOM.render(<App />, document.getElementById(\"app\"));\n",["41","42"],"/home/alipw/Documents/ukk/spp-12/client/src/pages/LoginSiswa.js",["43","44","45"],"import React, { useState } from \"react\";\nimport \"../styles/style.css\";\nimport { Redirect, useHistory } from \"react-router-dom\";\nimport axios from \"axios\";\n\nexport default function LoginSiswa() {\n    let history = useHistory();\n\n    const [NISN, setNISN] = useState(\"\");\n    const [password, setPassword] = useState(\"\");\n    const [message, setMessage] = useState(\"\");\n\n    //make a request to the API\n    function loginHandler() {\n        axios({\n            method: \"post\",\n            url: \"http://localhost:3001/api/login\",\n            data: {\n                level: \"siswa\",\n                username: NISN,\n            },\n        }).then((response) => {\n            if (response.data.token) {\n                setMessage(\"\");\n                localStorage.setItem(\"nisn\", response.data.nisn)\n                localStorage.setItem(\"token\", response.data.token)\n                localStorage.setItem(\"level\", response.data.level)\n                history.push(\"/history\");\n            } else {\n                setMessage(response.data.message);\n            }\n        });\n    }\n\n    return (\n        <div>\n            <div className=\"login-grid\">\n                <form className=\"login-form\">\n                    <h3>Login</h3>\n                    <br />\n                    <div className=\"form-group\">\n                        <label htmlFor=\"NISN\">NISN</label>\n                        <input\n                            type=\"text\"\n                            className=\"form-control\"\n                            id=\"NISN\"\n                            placeholder=\"Enter NISN\"\n                            value={NISN}\n                            onChange={(ev) => setNISN(ev.target.value)}\n                        />\n                    </div>\n                    <p className=\"text-danger\">{message}</p>\n\n                    <button\n                        type=\"button\"\n                        className=\"btn btn-primary\"\n                        onClick={loginHandler}\n                    >\n                        Submit\n                    </button>\n                </form>\n            </div>\n        </div>\n    );\n}\n","/home/alipw/Documents/ukk/spp-12/client/src/pages/LoginAdmin.js",["46","47"],"import React, { useState, useEffect } from \"react\";\nimport { useHistory } from \"react-router-dom\";\nimport \"../styles/style.css\";\nimport axios from \"axios\";\n\nexport default function LoginAdmin() {\n    let history = useHistory();\n\n    const [username, setUsername] = useState(\"\");\n    const [password, setPassword] = useState(\"\");\n    const [level, setLevel] = useState(\"petugas\");\n    const [message, setMessage] = useState(\"\");\n    const [token, setToken] = useState(() => {\n        localStorage.getItem(\"token\");\n    });\n\n    //make a request to the API\n    function loginHandler() {\n        axios({\n            method: \"post\",\n            url: \"http://localhost:3001/api/login\",\n            data: {\n                level: level,\n                username: username,\n                password: password,\n            },\n        })\n            .then((response) => {\n                if (response.data.token) {\n                    setMessage(\"\");\n                    localStorage.clear();\n                    localStorage.setItem(\"token\", response.data.token);\n\t\t\t\t\tlocalStorage.setItem(\"level\", response.data.level);\n                    window.location = \"/home\" + response.data.level;\n                } else {\n                    setMessage(response.data.message);\n                }\n            })\n            .catch((err) => {\n                setMessage(err.message);\n            });\n    }\n\n    useEffect(() => {\n        if (!localStorage.getItem(\"token\")) {\n            //do nothing\n        } else {\n            const confirmed = window.confirm(\n                \"Apakah anda yakin ingin logout dan mengakhiri sesi?\"\n            );\n            if (!confirmed) {\n                history.push(\"/homeadmin\");\n            } else {\n                localStorage.clear();\n            }\n        }\n    }, [token]);\n\n    return (\n        <div >\n            <div className=\"login-grid\">\n                <form className=\"login-form\">\n                    <h3>Login</h3>\n                    <br />\n                    <div className=\"form-group\">\n                        <label htmlFor=\"username\">Username</label>\n                        <input\n                            type=\"username\"\n                            className=\"form-control\"\n                            id=\"username\"\n                            placeholder=\"Enter username\"\n                            value={username}\n                            onChange={(ev) => setUsername(ev.target.value)}\n                        />\n                    </div>\n                    <div className=\"form-group\">\n                        <label htmlFor=\"password\">Password</label>\n                        <input\n                            type=\"password\"\n                            className=\"form-control\"\n                            id=\"password\"\n                            placeholder=\"Password\"\n                            value={password}\n                            onChange={(ev) => setPassword(ev.target.value)}\n                        />\n                    </div>\n                    <label htmlFor=\"priv-level\">Pilih Level</label>\n                    <div\n                        onChange={(ev) => setLevel(ev.target.value)}\n                        className=\"login-select-priv\"\n                        id=\"priv-level\"\n                    >\n                        <div className=\"radio\">\n                            <label>\n                                <input\n                                    type=\"radio\"\n                                    name=\"optionsRadios\"\n                                    id=\"optionsRadios1\"\n                                    value=\"petugas\"\n                                    defaultChecked={true}\n                                />\n                                Petugas\n                            </label>\n                        </div>\n                        <div className=\"radio\">\n                            <label>\n                                <input\n                                    type=\"radio\"\n                                    name=\"optionsRadios\"\n                                    id=\"optionsRadios2\"\n                                    value=\"admin\"\n                                />\n                                Admin\n                            </label>\n                        </div>\n                    </div>\n                    <p className=\"text-danger\">{message}</p>\n                    <button\n                        type=\"button\"\n                        className=\"btn btn-primary\"\n                        onClick={loginHandler}\n                    >\n                        Submit\n                    </button>\n                </form>\n            </div>\n        </div>\n    );\n}\n","/home/alipw/Documents/ukk/spp-12/client/src/pages/HomePetugas.js",["48","49","50","51","52","53","54","55","56"],"import React, { useState, useEffect } from \"react\";\nimport \"../styles/style.css\";\nimport { Redirect, useHistory, Link } from \"react-router-dom\";\nimport axios from \"axios\";\n\nexport default function History() {\n    const [dbData, setData] = useState({});\n    const [message, setMessage] = useState(\"\");\n    const [tableData,setTableData] = useState({})\n    const [referenceData, setReferenceData] = useState({})\n    const [formData, setFormData] = useState({})\n    const [update,setUpdate] = useState(true)\n    const [tableName,setTableName] = useState(\"pembayaran\")\n\n\n    let history = useHistory();\n\n    useEffect(fetchTableData, []);\n    useEffect(makeNull, [tableData]);\n\n    useEffect(initialize, [update], []);\n\n\n    function fetchTableData() {\n        const token = localStorage.getItem(\"token\");\n        axios({\n            method: \"get\",\n            url: \"http://localhost:3001/api/petugas/crud/tableinfo/pembayaran\",\n            headers: { Authorization: `Bearer ${token}` },\n        })\n            .then((response) => {\n                setReferenceData(response.data.reference_ids);\n                delete response.data[\"reference_ids\"];\n                setTableData(response.data);\n            })\n            .catch((error) => {\n                setMessage(error.message)\n                console.log(error);\n            });\n\t}\n\t\n\tfunction sendData() {\n        if(Object.keys(formData).length != Object.keys(tableData).length){\n            setMessage(\"data Incomplete\")\n            console.log(formData)\n        }\n        else{\n            const token = localStorage.getItem(\"token\");\n            axios({\n                method: \"post\",\n                data: formData,\n                url: \"http://localhost:3001/api/petugas/crud/pembayaran\" ,\n                headers: { Authorization: `Bearer ${token}` },\n            })\n                .then((response) => {\n                    makeNull()\n                    setMessage('')\n                    setUpdate(!update)\n                })\n                .catch((error) => {\n                    if(error.response){\n                        setMessage(error.response.data)\n                        console.log(\"error : \", error.response)\n                    }\n                });\n            }\n    }\n\n    function makeNull() {\n        Object.keys(tableData).map((key) => {\n\t\t\tif(tableData[key].references) {\n                formData[key] = referenceData[tableData[key].references.model][0];\n            }\n\t\t\telse formData[key] = \"\";\n        });\n        setFormData({ ...formData });\n        console.log(formData)\n    }\n\n    function form() {\n        var form = \" \";\n            try{\n                form = (\n                    <div className=\"form-group col-sm-5\">\n                        {Object.keys(tableData).map((key) => (\n                            <>\n                                <label> {key}</label>\n                                {tableData[key].references ? (\n                                    <select\n                                        onChange={(ev) => {\n                                            formData[key] = ev.target.value;\n                                            setFormData({ ...formData });\n                                        }}\n                                        value={formData[key]}\n                                        className=\"form-control\"\n                                    >\n                                        {referenceData[\n                                            tableData[key].references.model\n                                        ].map((value) => (\n                                            <option>{value}</option>\n                                        ))}\n                                    </select>\n                                ) : (\n                                    <input\n                                        type=\"text\"\n                                        onChange={(ev) => {\n                                            formData[key] = ev.target.value;\n                                            setFormData({ ...formData});\n                                        }}\n                                        value={formData[key]}\n                                        className=\"form-control\"\n                                    ></input>\n                                )}\n                            </>\n                        ))}\n                        <br />\n                        <button className=\"btn btn-primary\" onClick={sendData}>\n                            Insert\n                        </button>\n                    </div>\n                );\n            }catch(error){\n               return(<h1>an error has occured</h1>)\n            }\n\n        return form;\n    }\n\n    function initialize() {\n        if (!localStorage.getItem(\"token\")) {\n            localStorage.clear();\n            history.push(\"/loginadmin\");\n        }\n        const token = localStorage.getItem(\"token\");\n        axios({\n            method: \"get\",\n            url: \"http://localhost:3001/api/petugas/history/history/history\" ,\n            headers: { Authorization: `Bearer ${token}` },\n        })\n            .then((response) => {\n                setData(response.data);\n            })\n            .catch((error) => {\n                setMessage(error.message);\n            });\n    }\n\n    function crudTable() {\n        //mencoba me render data table, jika tidak ada data apapun untuk di render, maka return \"database kosong\"\n        try {\n            var crudTableHead = Object.keys(dbData[0]).map((key) => (\n                <th>{key}</th>\n            ));\n\n            var crudTableData = dbData.map((object) => (\n                <tr>\n                    {Object.keys(object).map((key) => (\n                        <td>{object[key]}</td>\n                    ))}\n                </tr>\n            ));\n        } catch (e) {\n            return <h3 className=\"text-danger padding\">Database kosong</h3>;\n        }\n\n        return (\n            <div className=\"crudTable\">\n                <table className=\"table\">\n                    <thead>\n                        <tr>{crudTableHead}</tr>\n                    </thead>\n                    <tbody>{crudTableData}</tbody>\n                </table>\n            </div>\n        );\n    }\n\n    useEffect(initialize, []);\n\n    return (\n        <>\n            <nav className=\"navbar navbar-default\">\n                <div className=\"container-fluid\">\n                    <div className=\"navbar-header\">\n                        <button\n                            type=\"button\"\n                            className=\"navbar-toggle collapsed\"\n                            data-toggle=\"collapse\"\n                            data-target=\"#bs-example-navbar-collapse-1\"\n                            aria-expanded=\"false\"\n                        >\n                            <span className=\"sr-only\">Toggle navigation</span>\n                            <span className=\"icon-bar\" />\n                            <span className=\"icon-bar\" />\n                            <span className=\"icon-bar\" />\n                        </button>\n                        <a className=\"navbar-brand\" href=\"#\">\n                            Home\n                        </a>\n                    </div>\n                    <div\n                        className=\"collapse navbar-collapse\"\n                        id=\"bs-example-navbar-collapse-1\"\n                    >\n                        <ul className=\"nav navbar-nav navbar-right\">\n                            <li>\n                                <Link to=\"/loginadmin\">Logout</Link>\n                            </li>\n                        </ul>\n                    </div>\n                </div>\n            </nav>\n            <div className=\"container-fluid\">\n                {crudTable()}\n                {message}\n                {form()}\n            </div>\n        </>\n    );\n}\n","/home/alipw/Documents/ukk/spp-12/client/src/pages/Tes.js",["57","58","59","60"],"import React, { useState, useEffect } from \"react\";\nimport axios from \"axios\";\n\nexport default function Tes() {\n    const [tableData, setTableData] = useState({});\n    const [referenceData, setReferenceData] = useState([]);\n\tconst [formData, setFormData] = useState({});\n\tconst [message, setMessage] = useState(\"\")\n\tconst tableName = \"pembayaran\";\n\t\n\tuseEffect(fetchData, []);\n\n    function fetchData() {\n        const token = localStorage.getItem(\"token\");\n        axios({\n            method: \"get\",\n            url: \"http://localhost:3001/api/crud/msc/tableinfo/\" + tableName,\n            headers: { Authorization: `Bearer ${token}` },\n        })\n            .then((response) => {\n                setReferenceData(response.data.reference_ids);\n                delete response.data[\"reference_ids\"];\n                setTableData(response.data);\n            })\n            .catch((error) => {\n                console.log(error);\n            });\n\t}\n\t\n\tfunction sendData() {\n        if(Object.keys(formData).length != Object.keys(tableData).length){\n            setMessage(\"data Incomplete\")\n            console.log(formData)\n        }\n        else{\n            const token = localStorage.getItem(\"token\");\n            axios({\n                method: \"post\",\n                data: formData,\n                url: \"http://localhost:3001/api/crud/\" + tableName,\n                headers: { Authorization: `Bearer ${token}` },\n            })\n                .then((response) => {\n\t\t\t\t\tmakeNull()\n                })\n                .catch((error) => {\n                    if(error.response){\n                        setMessage(error.response.data)\n                        console.log(\"error : \", error.response.data)\n                    }\n                });\n            }\n    }\n\n    function makeNull() {\n        Object.keys(tableData).map((key) => {\n\t\t\tif(tableData[key].references) formData[key] = referenceData[tableData[key].references.model][0]\n\t\t\telse formData[key] = \" \";\n        });\n        setFormData({ ...formData });\n    }\n\n    function form() {\n        var form = (\n            <div className=\"form-group col-sm-5\">\n                {Object.keys(tableData).map((key) => (\n                    <>\n                        <label> {key}</label>\n                        {tableData[key].references ? (\n\t\t\t\t\t\t\t<select\n\t\t\t\t\t\t\t\tonChange={(ev) => {\n\t\t\t\t\t\t\t\t\tformData[key] = ev.target.value;\n\t\t\t\t\t\t\t\t\tsetFormData({ ...formData });\n\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\tvalue={formData[key]}\n\t\t\t\t\t\t\t\tclassName=\"form-control\"\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t{referenceData[\n\t\t\t\t\t\t\t\t\ttableData[key].references.model\n\t\t\t\t\t\t\t\t].map((value) => (\n\t\t\t\t\t\t\t\t\t<option>{value}</option>\n\t\t\t\t\t\t\t\t))}\n\t\t\t\t\t\t\t</select>\n                        ) : (\n                            <input\n                                type=\"text\"\n                                onChange={(ev) => {\n                                    formData[key] = ev.target.value;\n                                    setFormData({ ...formData });\n                                }}\n                                value={formData[key]}\n                                className=\"form-control\"\n                            ></input>\n                        )}\n                    </>\n                ))}\n                <br />\n                <button className=\"btn btn-primary\" onClick={makeNull}>\n                    Make Null\n                </button>\n            </div>\n        );\n\n        return form;\n    }\n\n    return form();\n}\n","/home/alipw/Documents/ukk/spp-12/client/src/pages/History.js",["61","62","63","64","65","66","67","68","69","70"],"import React, { useState, useEffect } from \"react\";\nimport \"../styles/style.css\";\nimport { Redirect, useHistory, Link } from \"react-router-dom\";\nimport axios from \"axios\";\n\nexport default function History() {\n    const [dbData, setData] = useState({});\n    const [message, setMessage] = useState(\"\");\n    const [nisn,setNisn] = useState(\"\")\n\n    let history = useHistory();\n    \n    function logOut(){\n        localStorage.clear()\n    }\n\n    function initialize() {\n        if (!localStorage.getItem(\"token\") || !localStorage.getItem(\"nisn\")) {\n            localStorage.clear();\n            history.push(\"/loginsiswa\");\n        }\n        const token = localStorage.getItem(\"token\");\n        const nisn = localStorage.getItem(\"nisn\");\n        setNisn(nisn)\n        axios({\n            method: \"get\",\n            url: \"http://localhost:3001/api/siswa/history/\" + nisn,\n            headers: { Authorization: `Bearer ${token}` },\n        })\n            .then((response) => {\n                setData(response.data);\n            })\n            .catch((error) => {\n                setMessage(error.message);\n            });\n    }\n\n    function crudTable() {\n        //mencoba me render data table, jika tidak ada data apapun untuk di render, maka return \"database kosong\"\n        try {\n            var crudTableHead = Object.keys(dbData[0]).map((key) => (\n                <th>{key}</th>\n            ));\n\n            var crudTableData = dbData.map((object) => (\n                <tr>\n                    {Object.keys(object).map((key) => (\n                        <td>{object[key]}</td>\n                    ))}\n                </tr>\n            ));\n        } catch (e) {\n            return <h3 className=\"text-danger padding\">Database kosong</h3>;\n        }\n\n        return (\n            <div className=\"crudTable\">\n                <table className=\"table\">\n                    <thead>\n                        <tr>{crudTableHead}</tr>\n                    </thead>\n                    <tbody>{crudTableData}</tbody>\n                </table>\n            </div>\n        );\n    }\n\n    useEffect(initialize, []);\n\n    return (\n        <>\n            <nav className=\"navbar navbar-default\">\n                <div className=\"container-fluid\">\n                    <div className=\"navbar-header\">\n                        <button\n                            type=\"button\"\n                            className=\"navbar-toggle collapsed\"\n                            data-toggle=\"collapse\"\n                            data-target=\"#bs-example-navbar-collapse-1\"\n                            aria-expanded=\"false\"\n                        >\n                            <span className=\"sr-only\">Toggle navigation</span>\n                            <span className=\"icon-bar\" />\n                            <span className=\"icon-bar\" />\n                            <span className=\"icon-bar\" />\n                        </button>\n                        <a className=\"navbar-brand\" href=\"#\">\n                            NISN : {nisn}\n                        </a>\n                    </div>\n                    <div\n                        className=\"collapse navbar-collapse\"\n                        id=\"bs-example-navbar-collapse-1\"\n                    >\n                        <ul className=\"nav navbar-nav\">\n                            <li className=\"\">\n                                <Link to=\"/history\">History</Link>\n                            </li>\n                            <li>\n                                <a href=\"#\">Link</a>\n                            </li>\n                            <li className=\"dropdown\">\n                                <a\n                                    href=\"#\"\n                                    className=\"dropdown-toggle\"\n                                    data-toggle=\"dropdown\"\n                                    role=\"button\"\n                                    aria-haspopup=\"true\"\n                                    aria-expanded=\"false\"\n                                >\n                                    Dropdown <span className=\"caret\" />\n                                </a>\n                                <ul className=\"dropdown-menu\">\n                                    <li>\n                                        <a href=\"#\">Action</a>\n                                    </li>\n                                    <li>\n                                        <a href=\"#\">Another action</a>\n                                    </li>\n                                    <li>\n                                        <a href=\"#\">Something else here</a>\n                                    </li>\n                                    <li role=\"separator\" className=\"divider\" />\n                                    <li>\n                                        <a href=\"#\">Separated link</a>\n                                    </li>\n                                    <li role=\"separator\" className=\"divider\" />\n                                    <li>\n                                        <a href=\"#\">One more separated link</a>\n                                    </li>\n                                </ul>\n                            </li>\n                        </ul>\n                        <form className=\"navbar-form navbar-left\">\n                            <div className=\"form-group\">\n                                <input\n                                    type=\"text\"\n                                    className=\"form-control\"\n                                    placeholder=\"Search\"\n                                />\n                            </div>\n                            <button type=\"submit\" className=\"btn btn-default\">\n                                Submit\n                            </button>\n                        </form>\n                        <ul className=\"nav navbar-nav navbar-right\">\n                            <li>\n                                <Link to=\"/loginsiswa\" onClick = {logOut}>Logout</Link>\n                            </li>\n                        </ul>\n                    </div>\n                </div>\n            </nav>\n            <div className=\"container-fluid\">\n                {crudTable()}\n                {message}\n            </div>\n        </>\n    );\n}\n","/home/alipw/Documents/ukk/spp-12/client/src/pages/HomeAdmin.js",["71","72","73","74","75","76","77","78","79","80","81","82","83","84","85","86","87","88","89","90","91","92"],"import React, { useState, useEffect } from \"react\";\nimport \"../styles/style.css\";\nimport { Redirect, useHistory, Link } from \"react-router-dom\";\nimport axios from \"axios\";\n\nexport default function Home() {\n    const [tableName, setTableName] = useState(\"kelas\");\n    const [dbData, setDbData] = useState([{}]);\n    const [message, setMessage] = useState(\"\");\n    const [crudElement, setCrudElement] = useState(\"\");\n    const [update, setUpdate] = useState(false);\n    const [tableData, setTableData] = useState({});\n    const [referenceData, setReferenceData] = useState([]);\n    const [formData, setFormData] = useState({});\n    const [editData, setEditData] = useState({});\n    const [display, setDisplay] = useState(0);\n    const [curDisplay, setCurDisplay] = useState([\"none\", \"box\"])\n\n\t\n\tuseEffect(fetchTableData, [tableName], []);\n\n    function fetchTableData() {\n        const token = localStorage.getItem(\"token\");\n        axios({\n            method: \"get\",\n            url: \"http://localhost:3001/api/crud/msc/tableinfo/\" + tableName,\n            headers: { Authorization: `Bearer ${token}` },\n        })\n            .then((response) => {\n                setReferenceData(response.data.reference_ids);\n                delete response.data[\"reference_ids\"];\n                setTableData(response.data);\n            })\n            .catch((error) => {\n                console.log(error);\n            });\n\t}\n\t\n\tfunction sendData() {\n        if(Object.keys(formData).length != Object.keys(tableData).length){\n            setMessage(\"data Incomplete\")\n            console.log(formData)\n        }\n        else{\n            const token = localStorage.getItem(\"token\");\n            axios({\n                method: \"post\",\n                data: formData,\n                url: \"http://localhost:3001/api/crud/\" + tableName,\n                headers: { Authorization: `Bearer ${token}` },\n            })\n                .then((response) => {\n                    makeNull()\n                    setUpdate(!update)\n                })\n                .catch((error) => {\n                    if(error.response){\n                        setMessage(error.response.data)\n                        console.log(\"error : \", error.response)\n                    }\n                });\n            }\n    }\n\n    function makeNull() {\n        Object.keys(tableData).map((key) => {\n\t\t\tif(tableData[key].references) {\n                formData[key] = referenceData[tableData[key].references.model][0];\n            }\n\t\t\telse formData[key] = \"\";\n        });\n        setFormData({ ...formData });\n        console.log(formData)\n    }\n\n    function form() {\n        var form = \" \";\n        if(localStorage.level == \"admin\"){\n            try{\n                form = (\n                    <div className=\"form-group col-sm-5\">\n                        {Object.keys(tableData).map((key) => (\n                            <>\n                                <label> {key}</label>\n                                {tableData[key].references ? (\n                                    <select\n                                        onChange={(ev) => {\n                                            formData[key] = ev.target.value;\n                                            setFormData({ ...formData });\n                                        }}\n                                        value={formData[key]}\n                                        className=\"form-control\"\n                                    >\n                                        {referenceData[\n                                            tableData[key].references.model\n                                        ].map((value) => (\n                                            <option>{value}</option>\n                                        ))}\n                                    </select>\n                                ) : (\n                                    <input\n                                        type=\"text\"\n                                        onChange={(ev) => {\n                                            formData[key] = ev.target.value;\n                                            setFormData({ ...formData});\n                                        }}\n                                        value={formData[key]}\n                                        className=\"form-control\"\n                                    ></input>\n                                )}\n                            </>\n                        ))}\n                        <br />\n                        <button className=\"btn btn-primary\" onClick={sendData}>\n                            Insert\n                        </button>\n                    </div>\n                );\n            }catch(error){\n                <h1>an error has occured</h1>\n            }\n        }\n\n        return form;\n    }\n\n    let history = useHistory();\n\n\n    //fetch data for CRUD\n    function fetchData() {\n        if (\n            !localStorage.getItem(\"token\") &&\n            (localStorage.getItem(\"level\") != \"petugas\" ||\n                localStorage.getItem(\"level\") != \"admin\")\n        ) {\n            history.push(\"/loginadmin\");\n        }\n        const token = localStorage.getItem(\"token\");\n        setFormData({})\n        axios({\n            method: \"get\",\n            url: \"http://localhost:3001/api/crud/\" + tableName,\n            headers: { Authorization: `Bearer ${token}` },\n        })\n            .then((response) => {\n                setMessage(\"\");\n                setDbData(response.data);\n            })\n            .catch((error) => {\n                setMessage(error.message);\n                if ((error.response && error.response.status == 401)) {\n                    localStorage.clear();\n                    history.push(\"/loginadmin\");\n                }\n                \n\n            });\n    }\n\n    function updateData() {\n        makeNull()\n        setCrudElement(crudTable);\n    }\n\n    //lakukan request ke backend setiap kali tablename diganti atau dipaksa update oleh variabel update\n    useEffect(fetchData, [tableName, update], []);\n\n    //update isi table setiap kali ada perubahan di state dbData\n    useEffect(updateData, [dbData], []);\n\n    //fungsi menghapus data\n    function Drop(fieldname, id) {\n        const confirmed = window.confirm(\n            `Apakah anda yakin ingin menghapus data dengan ${fieldname} : ${id} ?`\n        );\n\n        var data_to_send = {\n            where_id: id,\n        };\n\n        if (confirmed) {\n            const token = localStorage.getItem(\"token\");\n            axios({\n                method: \"delete\",\n                data: data_to_send,\n                url: \"http://localhost:3001/api/crud/\" + tableName,\n                headers: { Authorization: `Bearer ${token}` },\n            })\n                .then(() => {\n                    setUpdate(!update);\n                })\n                .catch((error) => {\n                    if(error.response){\n                        console.log(error.response)\n                        setMessage(error.response.data);\n                    }\n                });\n        }\n    }\n\n    //render the crud table element\n    function crudTable() {\n        //mencoba me render data table, jika tidak ada data apapun untuk di render, maka return \"database kosong\"\n        try {\n            var crudTableHead = Object.keys(dbData[0]).map((key) => (\n                <th>{key}</th>\n            ));\n\n            var crudTableData = dbData.map((object) => (\n                <tr>\n                    {Object.keys(object).map((key) => (\n                        <td>{object[key]}</td>\n                    ))}\n                    <a\n                        className=\"btn btn-sm btn-danger btn-padding\"\n                        onClick={(ev) =>\n                            Drop(\n                                Object.keys(object)[0],\n                                object[Object.keys(object)[0]]\n                            )\n                        }\n                    >\n                        {\" \"}\n                        Delete{\" \"}\n                    </a>\n                </tr>\n            ));\n        } catch (e) {\n            return <h3 className=\"text-danger padding\">Database kosong</h3>;\n        }\n\n        return (\n            <div className=\"crudTable\">\n                <table className=\"table\">\n                    <thead>\n                        <tr>\n                            {crudTableHead}\n                            <th colspan=\"2\">Actions</th>\n                        </tr>\n                    </thead>\n                    <tbody>{crudTableData}</tbody>\n                </table>\n            </div>\n        );\n    }\n\n    \n    return (\n        <>\n        <div>\n            <nav className=\"navbar navbar-default\">\n                <div className=\"container-fluid\">\n                    <div className=\"navbar-header\">\n                        <button\n                            type=\"button\"\n                            className=\"navbar-toggle collapsed\"\n                            data-toggle=\"collapse\"\n                            data-target=\"#bs-example-navbar-collapse-1\"\n                            aria-expanded=\"false\"\n                        >\n                            <span className=\"sr-only\">Toggle navigation</span>\n                            <span className=\"icon-bar\" />\n                            <span className=\"icon-bar\" />\n                            <span className=\"icon-bar\" />\n                        </button>\n                        <a className=\"navbar-brand\" href=\"#\">\n                            Home\n                        </a>\n                    </div>\n                    <div\n                        className=\"collapse navbar-collapse\"\n                        id=\"bs-example-navbar-collapse-1\"\n                    >\n                        <ul className=\"nav navbar-nav navbar-right\">\n                            <li>\n                                <Link to=\"/loginadmin\">Logout</Link>\n                            </li>\n                        </ul>\n                    </div>\n                </div>\n            </nav>\n            <div className=\"container-fluid\">\n                <div onChange={(ev) => setTableName(ev.target.value)}>\n                    <label class=\"radio-inline\">\n                        <input\n                            type=\"radio\"\n                            name=\"inlineRadioOptions\"\n                            defaultChecked={tableName == \"kelas\"}\n                            value=\"kelas\"\n                        />{\" \"}\n                        Kelas\n                    </label>\n                    <label class=\"radio-inline\">\n                        <input\n                            type=\"radio\"\n                            name=\"inlineRadioOptions\"\n                            defaultChecked={tableName == \"pembayaran\"}\n                            value=\"pembayaran\"\n                        />{\" \"}\n                        Pembayaran\n                    </label>\n                    <label class=\"radio-inline\">\n                        <input\n                            type=\"radio\"\n                            name=\"inlineRadioOptions\"\n                            defaultChecked={tableName == \"petugas\"}\n                            value=\"petugas\"\n                        />{\" \"}\n                        Petugas\n                    </label>\n                    <label class=\"radio-inline\">\n                        <input\n                            type=\"radio\"\n                            name=\"inlineRadioOptions\"\n                            defaultChecked={tableName == \"siswa\"}\n                            value=\"siswa\"\n                        />{\" \"}\n                        Siswa\n                    </label>\n                    <label class=\"radio-inline\">\n                        <input\n                            type=\"radio\"\n                            name=\"inlineRadioOptions\"\n                            defaultChecked={tableName == \"spp\"}\n                            value=\"spp\"\n                        />{\" \"}\n                        SPP\n                    </label>\n                </div>\n                {crudElement}\n                <p className=\"text-danger\">{message}</p>\n                <br/>\n                {form()}\n            </div>\n            \n        </div>\n        </>\n    );\n}\n",["93","94"],{"ruleId":"95","severity":1,"message":"96","line":7,"column":5,"nodeType":"97","messageId":"98","endLine":7,"endColumn":9},{"ruleId":"95","severity":1,"message":"99","line":8,"column":5,"nodeType":"97","messageId":"98","endLine":8,"endColumn":15},{"ruleId":"100","replacedBy":"101"},{"ruleId":"102","replacedBy":"103"},{"ruleId":"95","severity":1,"message":"104","line":3,"column":10,"nodeType":"97","messageId":"98","endLine":3,"endColumn":18},{"ruleId":"95","severity":1,"message":"105","line":10,"column":12,"nodeType":"97","messageId":"98","endLine":10,"endColumn":20},{"ruleId":"95","severity":1,"message":"106","line":10,"column":22,"nodeType":"97","messageId":"98","endLine":10,"endColumn":33},{"ruleId":"95","severity":1,"message":"107","line":13,"column":19,"nodeType":"97","messageId":"98","endLine":13,"endColumn":27},{"ruleId":"108","severity":1,"message":"109","line":57,"column":8,"nodeType":"110","endLine":57,"endColumn":15,"suggestions":"111"},{"ruleId":"95","severity":1,"message":"104","line":3,"column":10,"nodeType":"97","messageId":"98","endLine":3,"endColumn":18},{"ruleId":"95","severity":1,"message":"112","line":13,"column":12,"nodeType":"97","messageId":"98","endLine":13,"endColumn":21},{"ruleId":"95","severity":1,"message":"113","line":13,"column":22,"nodeType":"97","messageId":"98","endLine":13,"endColumn":34},{"ruleId":"108","severity":1,"message":"114","line":19,"column":25,"nodeType":"110","endLine":19,"endColumn":36,"suggestions":"115"},{"ruleId":"108","severity":1,"message":"109","line":21,"column":27,"nodeType":"110","endLine":21,"endColumn":35,"suggestions":"116"},{"ruleId":"117","severity":1,"message":"118","line":43,"column":41,"nodeType":"119","messageId":"120","endLine":43,"endColumn":43},{"ruleId":"121","severity":1,"message":"122","line":70,"column":42,"nodeType":"123","messageId":"124","endLine":70,"endColumn":44},{"ruleId":"108","severity":1,"message":"109","line":178,"column":27,"nodeType":"110","endLine":178,"endColumn":29,"suggestions":"125"},{"ruleId":"126","severity":1,"message":"127","line":197,"column":25,"nodeType":"128","endLine":197,"endColumn":62},{"ruleId":"95","severity":1,"message":"129","line":8,"column":9,"nodeType":"97","messageId":"98","endLine":8,"endColumn":16},{"ruleId":"95","severity":1,"message":"130","line":30,"column":11,"nodeType":"97","messageId":"98","endLine":30,"endColumn":19},{"ruleId":"117","severity":1,"message":"118","line":31,"column":41,"nodeType":"119","messageId":"120","endLine":31,"endColumn":43},{"ruleId":"121","severity":1,"message":"122","line":56,"column":42,"nodeType":"123","messageId":"124","endLine":56,"endColumn":44},{"ruleId":"95","severity":1,"message":"104","line":3,"column":10,"nodeType":"97","messageId":"98","endLine":3,"endColumn":18},{"ruleId":"108","severity":1,"message":"109","line":68,"column":27,"nodeType":"110","endLine":68,"endColumn":29,"suggestions":"131"},{"ruleId":"126","severity":1,"message":"127","line":87,"column":25,"nodeType":"128","endLine":87,"endColumn":62},{"ruleId":"126","severity":1,"message":"127","line":100,"column":33,"nodeType":"128","endLine":100,"endColumn":45},{"ruleId":"126","severity":1,"message":"127","line":103,"column":33,"nodeType":"128","endLine":110,"endColumn":34},{"ruleId":"126","severity":1,"message":"127","line":115,"column":41,"nodeType":"128","endLine":115,"endColumn":53},{"ruleId":"126","severity":1,"message":"127","line":118,"column":41,"nodeType":"128","endLine":118,"endColumn":53},{"ruleId":"126","severity":1,"message":"127","line":121,"column":41,"nodeType":"128","endLine":121,"endColumn":53},{"ruleId":"126","severity":1,"message":"127","line":125,"column":41,"nodeType":"128","endLine":125,"endColumn":53},{"ruleId":"126","severity":1,"message":"127","line":129,"column":41,"nodeType":"128","endLine":129,"endColumn":53},{"ruleId":"95","severity":1,"message":"104","line":3,"column":10,"nodeType":"97","messageId":"98","endLine":3,"endColumn":18},{"ruleId":"95","severity":1,"message":"132","line":15,"column":12,"nodeType":"97","messageId":"98","endLine":15,"endColumn":20},{"ruleId":"95","severity":1,"message":"133","line":15,"column":22,"nodeType":"97","messageId":"98","endLine":15,"endColumn":33},{"ruleId":"95","severity":1,"message":"134","line":16,"column":12,"nodeType":"97","messageId":"98","endLine":16,"endColumn":19},{"ruleId":"95","severity":1,"message":"135","line":16,"column":21,"nodeType":"97","messageId":"98","endLine":16,"endColumn":31},{"ruleId":"95","severity":1,"message":"136","line":17,"column":12,"nodeType":"97","messageId":"98","endLine":17,"endColumn":22},{"ruleId":"95","severity":1,"message":"137","line":17,"column":24,"nodeType":"97","messageId":"98","endLine":17,"endColumn":37},{"ruleId":"117","severity":1,"message":"118","line":40,"column":41,"nodeType":"119","messageId":"120","endLine":40,"endColumn":43},{"ruleId":"121","severity":1,"message":"122","line":66,"column":42,"nodeType":"123","messageId":"124","endLine":66,"endColumn":44},{"ruleId":"117","severity":1,"message":"138","line":78,"column":31,"nodeType":"119","messageId":"120","endLine":78,"endColumn":33},{"ruleId":"117","severity":1,"message":"118","line":134,"column":44,"nodeType":"119","messageId":"120","endLine":134,"endColumn":46},{"ruleId":"117","severity":1,"message":"118","line":135,"column":47,"nodeType":"119","messageId":"120","endLine":135,"endColumn":49},{"ruleId":"117","severity":1,"message":"138","line":152,"column":62,"nodeType":"119","messageId":"120","endLine":152,"endColumn":64},{"ruleId":"108","severity":1,"message":"109","line":167,"column":26,"nodeType":"110","endLine":167,"endColumn":45,"suggestions":"139"},{"ruleId":"108","severity":1,"message":"140","line":170,"column":27,"nodeType":"110","endLine":170,"endColumn":35,"suggestions":"141"},{"ruleId":"126","severity":1,"message":"142","line":215,"column":21,"nodeType":"128","endLine":223,"endColumn":22},{"ruleId":"126","severity":1,"message":"127","line":267,"column":25,"nodeType":"128","endLine":267,"endColumn":62},{"ruleId":"117","severity":1,"message":"138","line":289,"column":55,"nodeType":"119","messageId":"120","endLine":289,"endColumn":57},{"ruleId":"117","severity":1,"message":"138","line":298,"column":55,"nodeType":"119","messageId":"120","endLine":298,"endColumn":57},{"ruleId":"117","severity":1,"message":"138","line":307,"column":55,"nodeType":"119","messageId":"120","endLine":307,"endColumn":57},{"ruleId":"117","severity":1,"message":"138","line":316,"column":55,"nodeType":"119","messageId":"120","endLine":316,"endColumn":57},{"ruleId":"117","severity":1,"message":"138","line":325,"column":55,"nodeType":"119","messageId":"120","endLine":325,"endColumn":57},{"ruleId":"100","replacedBy":"143"},{"ruleId":"102","replacedBy":"144"},"no-unused-vars","'Link' is defined but never used.","Identifier","unusedVar","'useHistory' is defined but never used.","no-native-reassign",["145"],"no-negated-in-lhs",["146"],"'Redirect' is defined but never used.","'password' is assigned a value but never used.","'setPassword' is assigned a value but never used.","'setToken' is assigned a value but never used.","react-hooks/exhaustive-deps","React Hook useEffect has a missing dependency: 'history'. Either include it or remove the dependency array.","ArrayExpression",["147"],"'tableName' is assigned a value but never used.","'setTableName' is assigned a value but never used.","React Hook useEffect has missing dependencies: 'formData' and 'referenceData'. Either include them or remove the dependency array. You can also do a functional update 'setFormData(f => ...)' if you only need 'formData' in the 'setFormData' call.",["148"],["149"],"eqeqeq","Expected '!==' and instead saw '!='.","BinaryExpression","unexpected","array-callback-return","Array.prototype.map() expects a return value from arrow function.","ArrowFunctionExpression","expectedInside",["150"],"jsx-a11y/anchor-is-valid","The href attribute requires a valid value to be accessible. Provide a valid, navigable address as the href value. If you cannot provide a valid href, but still need the element to resemble a link, use a button and change it with appropriate styles. Learn more: https://github.com/evcohen/eslint-plugin-jsx-a11y/blob/master/docs/rules/anchor-is-valid.md","JSXOpeningElement","'message' is assigned a value but never used.","'sendData' is defined but never used.",["151"],"'editData' is assigned a value but never used.","'setEditData' is assigned a value but never used.","'display' is assigned a value but never used.","'setDisplay' is assigned a value but never used.","'curDisplay' is assigned a value but never used.","'setCurDisplay' is assigned a value but never used.","Expected '===' and instead saw '=='.",["152"],"React Hook useEffect has missing dependencies: 'crudTable' and 'makeNull'. Either include them or remove the dependency array.",["153"],"The href attribute is required for an anchor to be keyboard accessible. Provide a valid, navigable address as the href value. If you cannot provide an href, but still need the element to resemble a link, use a button and change it with appropriate styles. Learn more: https://github.com/evcohen/eslint-plugin-jsx-a11y/blob/master/docs/rules/anchor-is-valid.md",["145"],["146"],"no-global-assign","no-unsafe-negation",{"desc":"154","fix":"155"},{"desc":"156","fix":"157"},{"desc":"158","fix":"159"},{"desc":"160","fix":"161"},{"desc":"160","fix":"162"},{"desc":"163","fix":"164"},{"desc":"165","fix":"166"},"Update the dependencies array to be: [history, token]",{"range":"167","text":"168"},"Update the dependencies array to be: [formData, referenceData, tableData]",{"range":"169","text":"170"},"Update the dependencies array to be: [history, update]",{"range":"171","text":"172"},"Update the dependencies array to be: [history]",{"range":"173","text":"174"},{"range":"175","text":"174"},"Update the dependencies array to be: [history, tableName, update]",{"range":"176","text":"177"},"Update the dependencies array to be: [crudTable, dbData, makeNull]",{"range":"178","text":"179"},[1794,1801],"[history, token]",[659,670],"[formData, referenceData, tableData]",[700,708],"[history, update]",[6304,6306],"[history]",[2094,2096],[6042,6061],"[history, tableName, update]",[6160,6168],"[crudTable, dbData, makeNull]"]